<html lang="en">
<head>
<title>i386-Arch - Using as</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Using as">
<meta name="generator" content="makeinfo 4.8">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="i386_002dDependent.html#i386_002dDependent" title="i386-Dependent">
<link rel="prev" href="i386_002d16bit.html#i386_002d16bit" title="i386-16bit">
<link rel="next" href="i386_002dBugs.html#i386_002dBugs" title="i386-Bugs">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<p>
<a name="i386-Arch"></a>
<a name="i386_002dArch"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="i386_002dBugs.html#i386_002dBugs">i386-Bugs</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="i386_002d16bit.html#i386_002d16bit">i386-16bit</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="i386_002dDependent.html#i386_002dDependent">i386-Dependent</a>
<hr>
</div>

<h4 class="subsection">8.11.12 Specifying CPU Architecture</h4>

<p><a name="index-arch-directive_002c-i386-903"></a><a name="index-i386-arch-directive-904"></a><a name="index-arch-directive_002c-x86_002d64-905"></a><a name="index-x86_002d64-arch-directive-906"></a>
<code>as</code> may be told to assemble for a particular CPU
(sub-)architecture with the <code>.arch </code><var>cpu_type</var> directive.  This
directive enables a warning when gas detects an instruction that is not
supported on the CPU specified.  The choices for <var>cpu_type</var> are:

   <p><table summary=""><tr align="left"><td valign="top" width="20%">`<samp><span class="samp">i8086</span></samp>' </td><td valign="top" width="20%">`<samp><span class="samp">i186</span></samp>' </td><td valign="top" width="20%">`<samp><span class="samp">i286</span></samp>' </td><td valign="top" width="20%">`<samp><span class="samp">i386</span></samp>'
<br></td></tr><tr align="left"><td valign="top" width="20%">`<samp><span class="samp">i486</span></samp>' </td><td valign="top" width="20%">`<samp><span class="samp">i586</span></samp>' </td><td valign="top" width="20%">`<samp><span class="samp">i686</span></samp>' </td><td valign="top" width="20%">`<samp><span class="samp">pentium</span></samp>'
<br></td></tr><tr align="left"><td valign="top" width="20%">`<samp><span class="samp">pentiumpro</span></samp>' </td><td valign="top" width="20%">`<samp><span class="samp">pentiumii</span></samp>' </td><td valign="top" width="20%">`<samp><span class="samp">pentiumiii</span></samp>' </td><td valign="top" width="20%">`<samp><span class="samp">pentium4</span></samp>'
<br></td></tr><tr align="left"><td valign="top" width="20%">`<samp><span class="samp">k6</span></samp>' </td><td valign="top" width="20%">`<samp><span class="samp">athlon</span></samp>' `<samp><span class="samp">sledgehammer</span></samp>'
<br></td></tr><tr align="left"><td valign="top" width="20%">`<samp><span class="samp">.mmx</span></samp>' `<samp><span class="samp">.sse</span></samp>' `<samp><span class="samp">.sse2</span></samp>' `<samp><span class="samp">.sse3</span></samp>' `<samp><span class="samp">.3dnow</span></samp>'
   <br></td></tr></table>

   <p>Apart from the warning, there are only two other effects on
<code>as</code> operation;  Firstly, if you specify a CPU other than
`<samp><span class="samp">i486</span></samp>', then shift by one instructions such as `<samp><span class="samp">sarl $1, %eax</span></samp>'
will automatically use a two byte opcode sequence.  The larger three
byte opcode sequence is used on the 486 (and when no architecture is
specified) because it executes faster on the 486.  Note that you can
explicitly request the two byte opcode by writing `<samp><span class="samp">sarl %eax</span></samp>'. 
Secondly, if you specify `<samp><span class="samp">i8086</span></samp>', `<samp><span class="samp">i186</span></samp>', or `<samp><span class="samp">i286</span></samp>',
<em>and</em> `<samp><span class="samp">.code16</span></samp>' or `<samp><span class="samp">.code16gcc</span></samp>' then byte offset
conditional jumps will be promoted when necessary to a two instruction
sequence consisting of a conditional jump of the opposite sense around
an unconditional jump to the target.

   <p>Following the CPU architecture (but not a sub-architecture, which are those
starting with a dot), you may specify `<samp><span class="samp">jumps</span></samp>' or `<samp><span class="samp">nojumps</span></samp>' to
control automatic promotion of conditional jumps. `<samp><span class="samp">jumps</span></samp>' is the
default, and enables jump promotion;  All external jumps will be of the long
variety, and file-local jumps will be promoted as necessary. 
(see <a href="i386_002dJumps.html#i386_002dJumps">i386-Jumps</a>)  `<samp><span class="samp">nojumps</span></samp>' leaves external conditional jumps as
byte offset jumps, and warns about file-local conditional jumps that
<code>as</code> promotes. 
Unconditional jumps are treated as for `<samp><span class="samp">jumps</span></samp>'.

   <p>For example

<pre class="smallexample">      .arch i8086,nojumps
</pre>
   </body></html>

